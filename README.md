# 精美视频监控 (Python)

功能概览：
- **实时预览**：启动软件或选择摄像头后立即显示画面。
- **自定义设置**：支持调整分辨率（1080p/720p/480p）、帧率和编码格式（H.264/MPEG-4）。
- **自动分段录制**：开始录制后，视频每 30 分钟自动分段保存。
- **时间戳叠加**：视频画面实时叠加当前时间戳。
- **自动循环覆盖**：当输出目录中所有录像总大小超过 20GB 时，自动删除最早的文件。

快速开始（Windows PowerShell）:

1. 创建并激活虚拟环境（可选但推荐）

```powershell
python -m venv .venv; .\.venv\Scripts\Activate.ps1
```

2. 安装依赖

```powershell
pip install -r requirements.txt
```

3. 运行程序

```powershell
python "surveillance_app.py"
```

使用说明：
- **摄像头选择**：启动后会自动扫描并预览第一个可用摄像头。可在下拉框切换。
- **画质与帧率**：在录制前选择期望的分辨率和帧率。注意：实际效果取决于摄像头硬件支持。
- **编码器**：默认尝试使用 H.264 (avc1) 以获得更小的文件体积。如果失败会自动回退到 MPEG-4。
- **录制**：点击“开始录制”将视频保存到指定目录。

注意事项：
- Windows 上默认使用 DirectShow 后端。
- H.264 编码依赖于系统安装的编解码器或 OpenCV 的内置支持（通常 `opencv-python` 已包含）。

